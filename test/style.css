/* -----------
   F A R B E N
   ----------- */

:root {
  --colorFont: #222222; /*hauptsächlich verwendete Schriftfarbe*/
  --colorComment: #261F80; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #c93f4a; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #3e58bd; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorLink: #bc101d;
  --colorSelection: #c5d1ec; /*Hintergrundfarbe, wenn mit der Maus markiert wird*/
  --colorBackgroundParagraph: #eeeeee; /*Hintergrundfarbe für Gesetzestext*/ 
  --colorBorderParagraph: #dddddd; /*Farbe für den unteren Rand beim Gesetzestext*/
  --colorBackgroundPage: #ffffff; /*Hintergrundfarbe der Website (sollte weiß sein)*/
  --colorSehrWichtig: #f9e79f; /*Farbe für die Markierung class="sehrwichtig"*/
  --colorFrist: #eec67d; /*Farbe für die Markierung class="frist"*/
  --colorGebuehr: #aeddae; /*Farbe für die Markierung class="gebuehr"*/
  --colorSprache: #a1b2f4; /*Farbe für die Markierung class="sprache"*/
  --colorRechtsfolge: #ee7d7d; /*Farbe für die Markierung class="rechtsfolge"*/
  --colorWide: #F5F5F5;
  --colorFontNavbarLinks: #888888;
}

[data-theme="dark"] {
  --colorFont: #e6e6e6; /*hauptsächlich verwendete Schriftfarbe*/
  --colorComment: #261F80; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #c93f4a; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #859bf0; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorLink: #770009;
  --colorSelection: #c5d1ec; /*Hintergrundfarbe, wenn mit der Maus markiert wird*/
  --colorBackgroundParagraph: #0d0d0d; /*Hintergrundfarbe für Gesetzestext*/ 
  --colorBorderParagraph: #dddddd; /*Farbe für den unteren Rand beim Gesetzestext*/
  --colorBackgroundPage: #2a2a2a; /*Hintergrundfarbe der Website (sollte dunkel sein)*/
  --colorSehrWichtig: #725b00; /*Farbe für die Markierung class="sehrwichtig"*/
  --colorFrist: #745721; /*Farbe für die Markierung class="frist"*/
  --colorGebuehr: #007100; /*Farbe für die Markierung class="gebuehr"*/
  --colorSprache: #4055a7; /*Farbe für die Markierung class="sprache"*/
  --colorRechtsfolge: #981d1d; /*Farbe für die Markierung class="rechtsfolge"*/
  --colorWide: #393939;
  --colorFontNavbarLinks: #787878;
}

@media (prefers-color-scheme: dark) {
[data-theme="dark"] {
  --colorFont: #e6e6e6; /*hauptsächlich verwendete Schriftfarbe*/
  --colorComment: #261F80; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #c93f4a; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorComment: #859bf0; /*Schriftfarbe für die Kommentare außerhalb des Gesetzes*/
  --colorLink: #770009;
  --colorSelection: #c5d1ec; /*Hintergrundfarbe, wenn mit der Maus markiert wird*/
  --colorBackgroundParagraph: #0d0d0d; /*Hintergrundfarbe für Gesetzestext*/ 
  --colorBorderParagraph: #dddddd; /*Farbe für den unteren Rand beim Gesetzestext*/
  --colorBackgroundPage: #2a2a2a; /*Hintergrundfarbe der Website (sollte dunkel sein)*/
  --colorSehrWichtig: #725b00; /*Farbe für die Markierung class="sehrwichtig"*/
  --colorFrist: #745721; /*Farbe für die Markierung class="frist"*/
  --colorGebuehr: #007100; /*Farbe für die Markierung class="gebuehr"*/
  --colorSprache: #4055a7; /*Farbe für die Markierung class="sprache"*/
  --colorRechtsfolge: #981d1d; /*Farbe für die Markierung class="rechtsfolge"*/
  --colorWide: #393939;
  --colorFontNavbarLinks: #787878;
}
}

html {
 scroll-padding-top: 68px; 
}

body {
 margin: 0;
 padding: 0;
 padding-top: 40px;
 padding-bottom: 60px;
 font-family: Arial, sans-serif;
 font-size: 10pt;
 color: var(--colorFont);
 background-color: var(--colorBackgroundPage);
 hyphens: auto;
 word-wrap: break-word;
 line-height: 1.5;
}

::selection {
 background-color: var(--colorSelection); /* Highlight color */
 /*color: var(--colorFont); *//* Text color */
}

/* -----------------------------------------
   I N H A L T S V E R Z E I C H N I S (TOC)
   ----------------------------------------- */

#toc {
 position: fixed;
 top: 0;
 left: 0;
 width: 240px;
 height: 100vh;
 padding: 10px;
 padding-top: 60px;
 padding-bottom: 30px;
 overflow-y: auto;
 background-color: var(--colorBackgroundPage);
 font-size: 10pt;
 overflow-y: auto; /* Enables vertical scrolling */
 overflow-x: hidden; /* Disables horizontal scrolling */
 box-sizing: border-box;
}

#toc a.active {
  position: relative; 
}

#toc a.active::before {
  content: "▷";
  position: absolute;       /* Remove from document flow */
  left: -16px;                  /* Position it at the left edge */
  top: -1px;                   /* Adjust as needed for vertical alignment */
}

#toc > p  > p {
 position: relative; 
}

#toc > p > p > a { 
 display: block; width: 100%; height: 100%; 
}

#toc {
 scrollbar-width: none;
 -ms-overflow-style: none
}

#toc a {
 text-decoration: none;
 color: var(--colorFont);
}

#toc > div {
 padding-bottom: 30px;
}

/* -----------------------------------
   M E N Ü L E I S T E   O B E N (TOP)
   ----------------------------------- */

#top {
 position: fixed;
 top: 0;
 left: 0;
 width: 100vw;
 height: 46px;
 font-size: 20px;
 border-bottom: 5px solid var(--colorBorderParagraph);
 padding: 6px 60px 5px 0;
 background-color: var(--colorBackgroundParagraph);
 overflow-y: hidden;
 white-space: nowrap;
 box-sizing: border-box;
 box-shadow: 0px -8px 16px 0px black;
 z-index: 1000;
 border-radius: 0px 0px 0px 20px;
}

#top.expanded {
 /*height: 500px;*/ /*placeholder*/
}

#top { /* Scrollbar verstecken */
 scrollbar-width: none;
 -ms-overflow-style: none
}

#top::-webkit-scrollbar, #toc::-webkit-scrollbar {
 display: none;
}

#top a {
 float: left;
 text-align: center;
 color: var(--colorTop);
 font-weight: 100;
 font-family: monospace;
 text-decoration: none;
 margin-left: 22px;
 padding-bottom: 4px;
}

#top a.active {
 color: var(--colorFont);
}

/* -----------
   N A V B A R 
   ----------- */

/* =========================
   NAVBAR CONTAINER
========================= */

.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;

  width: 100%;
  display: flex;
  align-items: flex-start;          /* left side can grow downward */
  justify-content: space-between;

  gap: 0.5rem;

  border-bottom: 1px solid #eee;
  background-color: var(--colorBackgroundPage);
  z-index: 99999999;
  font-size: 14pt;
}

/* =========================
   LEFT SIDE: CURRENT + LINKS
========================= */

.nav-left {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding-left: 0.25rem;

  flex: 1;
  min-width: 0; /* important in flex layouts */
}

#nav-current,
#nav-links {
  font-family: monospace;
  font-weight: 100;
}

#nav-current {
  padding: 0.7rem 1rem;
  padding-right: 0.2rem;
  font-weight: 900;
  text-decoration: none;
  color: var(--colorFont) !important;

  white-space: nowrap; /* don't wrap current label */
  flex: 0 0 auto;
}

/* =========================
   LINKS: SHOW 1 LINE WHEN CLOSED
   - closed: show one line (until button)
   - open: wrap to multiple lines
========================= */

#nav-links {
  flex: 1 1 auto;
  min-width: 0;

  margin-top: 0.75rem;
  color: var(--colorFontNavbarLinks);

  /* IMPORTANT: let the links take remaining width */
  overflow: hidden;
}

/* UL wraps naturally left-to-right */
#nav-links ul {
  margin: 0;
  padding: 0;
  padding-bottom: 15px;
  list-style: none;

  display: flex;
  align-items: center;
  gap: 0.8rem 1.2rem;

  flex-wrap: wrap;          /* open state uses wrapping */
  min-width: 0;

  /* closed state: clip to exactly one line */
  line-height: 1.6rem;
  max-height: 1.6rem;
  overflow: hidden;

  /* animate expansion */
  transition: max-height 700ms ease-out;
}

/* links */
#nav-links a {
  text-decoration: none;
  color: inherit;
  white-space: nowrap;
}

#nav-links li {
  margin: 0 !important;
  padding: 0 !important;
}

/* optional: "selected" styling */
#nav-links li.is-current > a {
  font-weight: 900;
  text-decoration: underline;
  text-underline-offset: 0.2em;
}

/* =========================
   HAMBURGER BUTTON (IN FLOW)
========================= */

#nav-button {
  position: static;
  flex: 0 0 auto;

  background-color: transparent;
  border: 0;
  cursor: pointer;
  padding: 0.75rem;

  z-index: 2;
  color: var(--colorFont) !important;
}

#nav-button svg,
#nav-button .icon {
  height: 1.5rem;
  width: 1.5rem;
  display: block;
}

/* (kept; harmless if unused) */
#nav-button .openIcon { display: block; }
#nav-button .closeIcon { display: none; }
#nav-button.open .openIcon { display: none; }
#nav-button.open .closeIcon { display: block; }

#nav-button .line {
  fill: none;
  stroke: currentColor;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;

  transition: transform 250ms ease, opacity 150ms ease;
  transform-origin: 12px 12px; /* center of 24x24 viewBox */
}

/* closed = hamburger (default) */
#nav-button .line1 { transform: translateY(0); }
#nav-button .line2 { opacity: 1; }
#nav-button .line3 { transform: translateY(0); }

/* open = X */
#nav-button.open .line1 {
  transform: translate(-5px, 3.5px) rotate(45deg);
}
#nav-button.open .line2 {
  opacity: 0;
}
#nav-button.open .line3 {
  transform: translate(-5px, -3.5px) rotate(-45deg);
}




/* -----------------
   C O N T A I N E R
   ----------------- */
/* Main content container with left/right margins */

.container {
 margin-left: 260px; /* Reserve left margin for the TOC */
 padding: 20px;
}

.columns {
 display: flex;
 flex-wrap: wrap;
 padding: 10px;
 column-gap: 20px;
 /*row-gap: 10px;*/
}

.paragraph {
 border-radius: 10px;
 padding-bottom: 0;
 padding-left: 10px; 
 padding-right: 10px; 
 padding-top: 8px; 
 margin-bottom: 20px;
 text-align: justify;
}

.left, .right {
 flex: 1 1 40%;
 min-width: 200px;
 box-sizing: border-box;
 padding: 0 0 10px 0;
}

.left {

}

.right {
 color: var(--colorComment);
}

.right:empty {
 padding: 0
}

.right p {
 margin-top: 0;
 margin-bottom: 10px;
}

.right p:last-child {
 margin-bottom: 0;
}

:root {
  --indent1: 20px;
  --indent2: 40px;
}

.indent {
 padding-left: var(--indent1);
}

.indentindent {
 padding-left: var(--indent2);
}

/* ----------------------------
   Z U S A T Z I N F O S (WIDE)
   ---------------------------- */

.wide {
 flex: 1 100%;
 min-width: 300px;
 box-sizing: border-box;
 padding: 0;
 margin-bottom: 20px;
 color: var(--colorFont);
}

.wide:not(.epilog):not(.einleitung .wide) {
 background-color: var(--colorWide);
 border-radius: 5pt;
 padding-top: 1px;
 padding-bottom: 10px;
}

p.ueberschrift, summary.ueberschrift {
 cursor: pointer;
 margin-bottom: 0;
}

summary.ueberschrift > span {
   font-weight: 600;
}

/*p.ueberschrift.rechtsprechung::before, summary.ueberschrift.rechtsprechung::before {
 content: "\2696\FE0F\2002 Rechtsprechung: ";
 cursor: pointer; 
 font-weight: bold;
}*/

/*p.ueberschrift.uebersicht::before, summary.ueberschrift.uebersicht::before {
 content: "\01F4DD\2002 Übersicht: ";
 cursor: pointer; 
 font-weight: bold;
}

p.ueberschrift.beispiel::before, summary.ueberschrift.beispiel::before {
 content: "\01F4A1\2002 Beispiel: ";
 cursor: pointer; 
 font-weight: bold;
}

p.ueberschrift.ausland::before, summary.ueberschrift.ausland::before {
 content: "\01F5FA\FE0F\2002 Vergleich zum Ausland: ";
 cursor: pointer; 
 font-weight: bold;
}*/

/*p.ueberschrift.eugesetz::before, summary.ueberschrift.eugesetz::before {
 content: "\01F1EA\01F1FA\2002 Unionsrecht: ";
 cursor: pointer; 
 font-weight: bold;
}*/

.wide p {
 margin: 10px 0 10px 0;
 padding: 0 13px 0 12px;
 text-align: justify;
}

.wide summary {
 margin: 10px 0 0 0;
 padding: 0 13px 0 13px;
 text-align: justify;
}

.wide p.ueberschrift ~ p.ueberschrift, .wide summary.ueberschrift ~ summary.ueberschrift {
 border-top: 4px solid var(--colorBackgroundParagraph);
 padding-top: 14px;
 margin-top: 14px;
}

/* For WebKit browsers (Chrome, Safari) */
summary::-webkit-details-marker {
  display: none;
}

/* For Firefox */
summary {
  list-style: none;
}

.wide details[open] > div {
border-left: 5px solid var(--colorBorderParagraph);
margin-left: 19px; 
}

/* -------------------------
   Ü B E R S C H R I F T E N
   ------------------------- */

h1 {
 font-size: 20pt;
 text-align: center;
 padding-bottom: 4px;
 margin-bottom: 4px;
 letter-spacing: 0.5px;
 line-height: 1.3;
 font-variant: small-caps;
}

h2 {
 text-transform: uppercase;
 font-size: 14pt;
 text-align: center;
 margin: 0;
}

h3 {
 font-size: 12pt;
 text-align: center;
 margin: 0;
}

h4 {
 font-size: 12pt;
 margin: 0;
}

h5 {
 text-align: center;
 font-style: italic;
 font-size: 10pt;
 font-weight: 100;
 padding-bottom: 30px;
 margin: 0;
}

/* Für den Fall, dass ein h5 in einem .left verwendet wird */
.left h5 {
 padding-bottom: 0;
}


/* -------------------
   H Y P E R L I N K S
   ------------------- */

a {
 color: inherit;
 text-decoration: underline;
 text-decoration-style: dotted;
 transition: color 0.3s ease-in-out;
 -webkit-tap-highlight-color: transparent;
}

a:focus,
a:focus-visible,
a:active {
  outline: none !important;
  box-shadow: none !important;
}

@media (hover: hover) and (pointer: fine) {
 a:hover {
  color: var(--colorLink) !important;
 }
}

a.url {
 font-family: monospace;
 text-decoration: none;
}

a.verweis::before {
  content: "\2192\2002"; /* Unicode for → and en space */
}

/* ---------------------------------------
   F A R B I G E   M A R K I E R U N G E N
   --------------------------------------- */

.sehrwichtig {
 background-color: var(--colorSehrWichtig);
}

.wichtig {
 text-decoration: underline;
}

.frist, .gebuehr, .sprache, .rechtsfolge {
 display: inline;
 background-repeat: no-repeat;
 background-size: 100% 5px;
 background-position: 0 calc(100% + 1px);
 text-decoration: none;
}

.frist {
 background-image: linear-gradient(var(--colorFrist), var(--colorFrist));
}

.gebuehr {
 background-image: linear-gradient(var(--colorGebuehr), var(--colorGebuehr));
}

.sprache {
 background-image: linear-gradient(var(--colorSprache), var(--colorSprache));
}

.rechtsfolge {
 background-image: linear-gradient(var(--colorRechtsfolge), var(--colorRechtsfolge));
}

/* ---------------------
   A N M E R K U N G E N
   --------------------- */

.anmerkung {
 color: var(--colorComment);
}

.anmerkung::before {
 content: "[\00a0";
}

.anmerkung::after {
 content: "\00a0]";
}

/* -------------------------
   S O N S T I G E S   C S S
   ------------------------- */

.gestrichen {
 font-style: italic;
}

div.letzter { /*Todo: noch in Verwendung?*/
 margin-bottom: 20px;
}

.titel { /*Todo: noch in Verwendung?*/
 font-weight: bold;
 text-align: center;
 margin-top: 0;
}

.justify-dots { /*Todo: noch in Verwendung?*/
 position: relative;
}

.right-text { /*Todo: noch in Verwendung?*/
 position: absolute;
 right: 30px;
 bottom: 10px;  
}

q {
   font-style: italic;
}

i.fa {
   line-height: 1.3em;
   padding-bottom: 8px;
}

p.formel {
   text-align: center;
   font-style: italic;
}

/* -----------------------
   E X P A N D B U T T O N
   ----------------------- */

#expandButton {
 display: none;
 position: fixed;
 top: 5px;
 right: 10px;
 border: 2px solid var(--colorBorderParagraph);
 border-radius: 6px;
 background-color: var(--colorBackgroundParagraph);
 color: var(--colorTop);
 height: 30px;
 width: 30px;
 cursor: pointer;
 /*transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out;*/
 padding: 0 0 4px 0;
 z-index: 1002;
}

#expandButton.active {
 background-color: var(--colorBorderParagraph);
}

/* -----------
   L I S T E N
   ----------- */

div.einleitung div.wide p { 
  padding-left: 0; padding-right: 0; 
}

div.einleitung div.wide ol { 
  margin-left: 0; 
}

.wide ol, .wide ul {
 padding: 0 0 0 25px;
 margin: 4px 0 4px 10px;
 color: var(--colorFont);
}

.einleitung, .einleitung ol, .einleitung ul {
 color: var(--colorFont);
}

ol, ul {
 padding: 0 0 0 15px;
 margin: 4px 0 4px 0;
}

ol li, ul li {
 padding: 0;
 padding-right: 13px;
 text-align: justify;
}

ul li:not(:last-child), ol li:not(:last-child) {
   margin-bottom: 6px;
}

ul.verweis {
   padding-left: 13px;
   margin-top: 0;
}

ul.verweis li::marker {
  /*content: "→ ";*/
  content: "▸ ";
}

ul ul, ol ol {
 margin-top: 0 !important; 
}

.einleitung {
 margin-bottom: 0;
 text-align: justify;
}

.epilog {
 text-align: center;
 font-style: italic;
}

/* ---------------
   T A B E L L E N
   --------------- */

table {
 text-align: left;
 display: inline-block;
}

td {
 padding-right: 16px;
 vertical-align: top;
}

.center {
 text-align: center;
}

/* ---------------------------
   M O B I L E   A N S I C H T
   --------------------------- */

@media (max-width: 740px) { /* Die Zwischenansicht, wo das #toc sichtbar ist, die .left und .right aber untereinander angeordnet sind */
 .left.indent + .right {
  padding-left: var(--indent1);
 }

 .left.indentindent + .right {
  padding-left: var(--indent2);
 }
}

@media (max-width: 600px) {
 .left, .right {
  flex: 1 1 100%;
  padding-right: 0px;
 }

 #toc {
  display: none;
  width: 100%;
 }

 .container {
  margin-left: 0;
 }
}

/* Mobile: wenn body.toc-open, zeige TOC (fullscreen-ish) und verstecke container */
@media (max-width: 600px) {
  /* Basis: #toc ist standardmäßig display:none in deiner CSS */
  body.toc-open #toc {
    display: block !important;
    position: fixed;
    inset: 0 0 0 0;           /* top:0; right:0; bottom:0; left:0; */
    width: 100%;
    height: 100vh;
    padding-top: 56px;        /* falls #top vorhanden ist */
    background-color: var(--colorBackgroundPage);
    z-index: 1000;
    overflow-y: auto;
  }
  
  body.toc-open #top {
   z-index: 1001;
  }

  body.toc-open .container {
    display: none !important;
  }

}

/* -----------------------
   D R U C K A N S I C H T
   ----------------------- */

@media print {
 @page {
  size: A4; /* Set page size */
  margin: 1.5cm; /* Set margins */
 }
 #toc, #top, #expandButton, nav {
  display: none !important;
 }
 body{
  padding-top: 0;
  padding-bottom: 0;
 }
 .container {
  margin-left: 0 !important;
 }
 .paragraph {
  background-color: white !important;
  border-color: white !important;
  margin-bottom: 0 !important;
  box-shadow: none !important;
 }
 a {
  text-decoration: none !important;
 }
 .epilog {
  display: none;
 }
 .wide {
  /*margin-left: 10px;
  border-left: 4px solid var(--colorBackgroundParagraph);*/
 }
 .einleitung .wide {
  margin-left: 0px;
  border-left: 0px;
 }
 h2:not(#A01) {
  break-before: page;
 }
}

.left:has(h2), .left:has(h3) {
  flex: 1 1 100%;
}

#info::after {
 font-family: "Font Awesome 6 Free";
 content: " \f05a"; /* Unicode for fa-circle-info */
 font-weight: 900;
 cursor: pointer;
 font-style: normal !important;
}

/* -----------------------
   T O G G L E B U T T O N
   ----------------------- */

/* Basis: Button immer im DOM, aber standardmäßig "versteckt" (opacity 0) */
#toggleButton {
  position: fixed !important;
  bottom: 4vh;
  left: 50vw;
  transform: translateX(-50%) translateY(24px) scale(0.96) translateZ(0);
  width: 60px;
  height: 60px;
  background-color: var(--colorBackgroundPage);
  border: 0;
  border-radius: 14px;
  cursor: pointer;
  z-index: 999999;
  color: var(--colorFont);
  font-size: 30px;
  box-shadow: 0px 0px 10px 0px var(--colorFontNavbarLinks);
  opacity: 0;
  pointer-events: none;
  transition:
    transform 320ms cubic-bezier(.49,1.76,.7,1.55),
    opacity 120ms ease-out,
    box-shadow 220ms ease-out;
  will-change: transform, opacity;
}

#toggleButton i {
   padding-bottom: 0 !important;
}

/* Auf "mobile" (kleine Viewports) zeigen wir den Button (animiert).
   Die Klasse 'mobile' wird per JS gesetzt/entfernt bei Resize / load. */
body.mobile:not(.toc-open) #toggleButton,
body.mobile #toggleButton.visible {
  opacity: 1;
  transform: translateX(-50%) translateY(0) scale(1) translateZ(0);
  pointer-events: auto;
}

/* Wenn TOC offen bleibt der Button ausgeblendet (sanft) */
body.mobile.toc-open #toggleButton {
  opacity: 0;
  transform: translateX(-50%) translateY(18px) scale(0.94) translateZ(0);
  pointer-events: none;
}

/* ---------------------------------
   L I G H T   D A R K   B U T T O N
   --------------------------------- */

#lightdark {
  background-color: var(--colorBackgroundPage);
  border: 0;
  cursor: pointer;
  color: var(--colorFontNavbarLinks);
  font-size: 12pt;
}

* {
  transition:
    background-color 250ms ease,
    color 250ms ease,
    border-color 250ms ease,
    fill 250ms ease,
    stroke 250ms ease;
}